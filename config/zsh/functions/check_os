#!/usr/bin/env zsh
# ìš´ì˜ì²´ì œ ì •ë³´ í™•ì¸ í•¨ìˆ˜

function check_os() {
    echo "ğŸ–¥ï¸  ìš´ì˜ì²´ì œ ì •ë³´"
    echo "===================="
    
    # macOS ë²„ì „ í™•ì¸
    if [[ "$(uname)" == "Darwin" ]]; then
        local macos_version=$(sw_vers -productVersion)
        local macos_name=$(sw_vers -productName)
        local build_version=$(sw_vers -buildVersion)
        
        echo "OS: ${macos_name}"
        echo "ë²„ì „: ${macos_version}"
        echo "ë¹Œë“œ: ${build_version}"
        
        # ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
        local arch=$(uname -m)
        echo "ì•„í‚¤í…ì²˜: ${arch}"
        
        # ì»¤ë„ ë²„ì „
        local kernel=$(uname -r)
        echo "ì»¤ë„: ${kernel}"
        
        # ì—…íƒ€ì„
        local uptime_info=$(uptime | awk -F'up ' '{print $2}' | awk -F', load' '{print $1}')
        echo "ì—…íƒ€ì„: ${uptime_info}"
        
    else
        echo "OS: $(uname -s)"
        echo "ì»¤ë„: $(uname -r)"
        echo "ì•„í‚¤í…ì²˜: $(uname -m)"
    fi
    
    echo ""
}

# í•¨ìˆ˜ ì‹¤í–‰ (ìŠ¤í¬ë¦½íŠ¸ë¡œ ì§ì ‘ ì‹¤í–‰ë  ë•Œ)
if [[ "${BASH_SOURCE[0]}" == "${0}" ]] || [[ "${(%):-%x}" == "${0}" ]]; then
    check_os "$@"
fi
